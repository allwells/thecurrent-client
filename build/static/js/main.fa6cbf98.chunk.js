(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,t,a){e.exports=a.p+"static/media/anchor-logo.693ad7e7.png"},102:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALAAAAA6CAIAAACf/kS3AAAACXBIWXMAAA06AAANOgEDIh6FAAAPKUlEQVR4nO1dXXAb13X+zu5iQRAgKYASQZECaYlSRMmq6WRMNyadCaVOmbhDd2plMvZDwoe6M40yjf3QyXjqdqbuTNuM62amSjt2ZpL0QcmD9GC106pphpM47DikEtF2B/4jJRESSZAUKYqASBEgscDu6QOA3bv4I0iRsVXgexF29+7Fwd7vnnPuud9SxMyoooospE/agCo+XVDS/9yJG6+OrI/Opqr+otJAhJ4Dyku9rr21EkwP8erI+ki4yoZKBDNGwqlXR9bThxlCjM6mPjmTqvjkYRIgQ4iqb6hwmASoJpVV2FAlRBU2VAlRhQ1VQlRhg7IjvbR6cMgreRz3289aEjeixtzaTthUxbawM4T4QkA61S7VO++3n9UE3prG+XFjJ4yqYjvYGUI0OCETfjHFVyPbX78e9dHnW6ihEKs6jxl/9VCpexenpD8fz3x2u3F4DweYLs3b2qgqDnm5rRbjUxROm1nDf/lFPlYwbMbob9+micpbje8MIQCsp/DxsjEyu/1HqDN1NckFL/k88NaUundRBwC1mb//GPsdABCbxdA8aenLCr/4e9xfmzaUXplBWAcAGHC74KVCPcYRrTw24EFJKn2bBaN7CQCADDOP0XRbA6/ZA0MzzxrQikQnTUN0y2b+f8COeQgTMsHnwlGfJBWceXYYjKsRI7IOveR0XFygC8tY0xBJ4ulHuVMGgOgC/XAOHhU+J2bSo8fQADcA5I500uxfR8IodD5Gb3wMM52NxcjiTSVh5wnhVNC9X/qzz8nrKSSNUuPskMil4F/ew/CMEU+W6nNsksbSn2TufQSQAUBbx+iMfdgEr6DpwiUW+GEgKZyHaWACY7O0WPKnVQJ2nhCKRLUKpQz89w1jfq2o/oYILR76w8NSrUKKRMLIlI18b2/YwkHhxmKbdGRJRxkdlekScrB9QhCgSJAl6AYoLzps6Lg8z+N3jGI+QiIc2yv1H9zy92pWh7nfqunQOHta5o6GbAMJqtnIwJpgktWbj//5qexBkl7/JY3as5AKwfYJUefEnz4qP3lA+sWU4VE3b7/j0DhvTguzPNDB3+soREa7J7AIIcMrW21iO2bmA4btE0Im+GuxnuKpVT6St3SrkfFEC7XXS6VDRk3hZWZJmM4/v+cyCloaCzmEQVrBbDaBhUqtjd1XyJAISzG8u8AHPBYhUgbHU6xIeOqQtGlS6ZART3GqZLMciKliLnSUzE0zbUSYq4zYbXp9Ktv5Bi1WZBEC2yBEWz39/kNSvRPB2wwgafB6knU2QzcSKYzdMv7+MspednJie3Kt/BqKgUT249h70ivT2QPCs180Br0A8mhkHmoYnavQpaaILRNivwfd+0kijC8XnkQ6YymOpfhu+VxPNsqoMquwD6EMs/6k2n+Z02SPeF6CO3voeDBKdLuOcgnR7KbWOiR0NNYQA9ejPBnl/odKOQGZ0L2fluKYvceJncrYyRo5NT//UDNVKQBO8aow8KoEtxV3WDV7c+JQg61EEV6txIVouYTo3k+n2qWFGM/dY93AaoIj60XDrENGs5sOe+nrD0s37vLYLX5vkTWd2xtojzOXQ6G7fDvGyTIdigJzCN15hFAVqNnu3ba9eGvgocBD1j6Fx3wAjfzdU8IvitPLP6dg5a08yyVEiweNLlyL8EYZ8d7toKcOSV/tlCPrfGIfTuyju2N6dIO+clQ66sslxI8/NP4nzMkyJ6PDCgoFbHdY9YacgGINvCzUJKh4pEggUpELjS3kEKsJvL9UVvKtEDwO6Ab/NKSnGAbj1hpiSfw0xL+ey+1hfJm18ieiZAUFu/NPf7FwVfxl4sDL8EjZtYbgb3KgJXAfO/kPMHa+dA2AgfRC8rN+YuCehvcWeGaVl4tHmXKxQt/496KJizZDz8wUupqiV/6j0PkNerl4b5WJXcmtN1L8wZIxvmwYjD1O+pxfaqqtPvcHA7vlIe4m6J1bDMLhPdhbS0RodNFhL/nydC7jyzy/tpWoUcVuYlcI4ZTxWDOdbCcANQolddZ0bnThDzqoYFJ5Z71KiE8LdoUQ8STemjauR+lrD0sfLhmjc3wtwjrjzatGwWXnViuVnW38pVbucMMjQ0vQwiremaOhRSvB7Gznk40I1HGzByOXpR9FMuc72rh/LwL13ObG0K+kcyvZGwjP9hhP1wvfYWBtg8Zv49IkhfLq4V0njG8HhGOGlsRMhIYmafRebmO1hb/fxQW3/9bm6IX3s0shwQZtmf7iiiDOUHmwC5213OzCzHXplVDm9MATxnN7ij8mxsj/Sm9sUeKxK4RI6Lge5Rt3OZ5ksTD1/m3eju5BhIuf7+bTjcKZWg540d3Ox34jvZZW1RIe7+CBBgAAIymwresgD/gy5xP2VaXTkSvb9NZywIe+AN64TEM5w6zkaTxd8Ndz9wG+9K70hl3cC4Knxlr+iFhjW6XVsqGVBw/Qa7PZCw50tXInARB23WQO1JWUmjK0zbd2crGLBVud8et5Dt3duTJlDZ/psbPBRIyGhKkgDnbCJqMSbhEJwUgUIarq5jNd7Lf7taK/SMHAZ7kvZ5Dyt+lNqzeK2tB3nLvN2ppgqiAHgW8z1UF0Y5MG+ditHKKtnvZ7ylpZlF+p7O/igaxX1zZwIw6vB34VAIIhoarIglISFBMJIaopi4kuN+jsFYp6+Jnj3FUDAOpe7q2li7FC9zKGxqRhnXs6eSC9eaZyn5+Gp63G4v5qdIF+GLbuXbALeZMiKd38/FEKfggNAFubdoLZFJxCOIXIBtZq8M1jnHZCE9foP9fgc8LjwMcJbBW7QohaB061S+mkclOUWalUm/i5lsznxTn663cprAMyug7y8224MG1vbT5ZA5oQMkS1VU4aax3qWLyL4DJFPPy9z6Tbwl8LUTMjEmthFcF7NM7o7eE0JXwuuzGCaG/tHg3PohhyTAocNJ6ZkS6s5mhFLTsvfZh5wmoTD2bVxZGVUl+xKXaFEOsp/GrWmFktixBlViofa2d/+lOKzr9PmRcrdAQn6YVQbmaiCTM4V0GZRp4A3+JKVpbtMM1nxOxTTTQ4mf4s/Na1ZG5jU9hX+pdqOWFLwVdO8PAoLaZFwnLxHgqKAreFXSHERgof3eGP7uxc7VfmLl/28wqCOaEx/3tEDyFeFcJKjkvSxIgDwMVfyjokxClol9QJZKL0UPW1Z9wDdASXiprXcdj4yUPZTpbpW1dI7Fi0IU0gt58HD9BrC0KjTWPrp5AQOw8Zgawf1hKbv0JTWHQPxET5XY5TMQ/r+W++zG6ntXE6di1321PTszJx4sGTPKhY2+uLs3Rp1W6NqOJU4M22jHGuvsu0IRymWAt3KgDQd5yH71jpRWEHsHP7cLtCiBoFHXuorb7ckLF5pdIJz1YM0IqI7kt4COsS2dZyoRCdncrtP8nQkNk1dQuNY8v0Dx9QrkC3iLBvbSPv+WRt0OL0gxv8nc9ABeDm549kX0blwiFDYyEq3R85yiUEgwggQGciglulGoXcKq0mwIBMxABzZt64FDx5YAtJZbpSme6f88T1gG2iqy74CeHSjrHIe1oJIZTkDJK4cNAou0WepKGbVMAh2deBpi8J3qCJ/MEXGk9M0pvZKlksT4AjLnwmrtJQKw+4ASBwMJs/mSlLCfx2QkZ0g1WF6lSajPKdOHc3k79Wbqqly3OGbmCfGykD66mMLelK5fhyucvORAoSoU4lVUF0o7AMOpLKvlFTzz0eumBWimQ+8wX2zNO5EC2aM0wQ1zsla+bVmSv7vNdyrMMIfeMKBk9yXw3g4MFHEBylXP6ZI5eisz8jT7dxxg8APSe4b5mG1+2NhUVjYo1G54o+CtMGVQZSdO4j9D7OXtg1HJtVjgoIybaCcglxLcIn23B8L01G+b9CxoYueWvo51PGW9PGwT3UVkdXI7wUzzROVyqvb+X16VYPHd9LSR3XCsoQUhSMck8TAEDG0yd49EpmodHZyf1eqF7uacILI5mRs6aRi3t8lMnyZDySzUy1GGbsU81MAiBBTdD5EPc8DBVwN/GZDnp50tbYIchtPMDQVRpo4gABLv6T30Hwit2pOKx45yw5WpbOT2EVFJujc/P8YovQggQ7BYhSsWIKjzJRLiGmVnA1wsca6cmANDprXBg3nDLWU9zgpD86IhnAOwvG9uQONQr8bjrVLh3x0vgyT60U7uSX0/RcUyaT9zbzd08iGIWjjru8mdkTvmPN44g5RwkDjxu+OQon4d/LfXWZ08H53ECgCgoaFQjdpOFD3O8CgK5OPn2bLgqpoqqYexOsKqQt08VFfrEZALyt/M12+juxLqJY89tdK7xPBmhJhONWQ9MG8x32oY+pbx93OQq0sUH4Csf9pYXl3r2S4KGbRp0qPdFCrR4peJtjSexz0e+2SEcbaWaVvTXUvX87oocGJ7qaqK2ewqs8dNNYKVJci83R+QCfac4cuuu4p866qq3Q68IkDs3RxJHMS+JQ0XPQRjItQj+eye1f1Nh5JCBJF0PcdwIqAAd//VEE36aQqcQURsjhANYxfJVO+zlAANBznPuXaCg70uL0zXmfLDZHX7tSQOdnDeo9+tEk/+MxQRpYcMREIdlvJ2QAmFjm8+PGlw9KXU10rJFkyqS19zT21uCrndtyVQydEU8ieJt/dtMIlYgyjEvvkO8JfjZvL0NbpbO/oQlxy3SV/ukDfKeL8/8YSHSZzl6hUF5qpgqEyLictJOoBQB1D/c3kblzKOp706OoRej8Lf522r3X8EA7DY9ncwIxA7BjzV5QMW1QZTiyKUVoki618ulszb5gyBCHsXRU2hRbIAQDk1H+warud1N7A7kdBdcDWwMDsSSmV3gxVsYeWJLOvU3jh/mZNj7shhuIxmhsDhcnKZy3gR6+Sd9aw3NHuNsHvwIticUVGpuli9OF/jQMWa97QM7OthSdD6HvBC/eonPjNCqEDKdi3WiO4vA1Ou3n5lV6c5z+bdFWeyhGiOiGsNtpt8FHiHHWjI/Q+3n2xDF512aGCbcYle7vT79R+n39nn9d2bRpJUJGZz0myv5bMgEfIpFdeVFYVWybMruB0T9uwANTqfykoG+BDQDCkc3bbA+7zQYT1RfYqrChSogqbKgSogobMoTI/5tAVVQUTAJkCNFzoJpdVjRMAmQI8VKvqzegVP1EBYIIvQHlpd6M3oSq/29nFSKqSWUVNvwfeI93z1rsxxUAAAAASUVORK5CYII="},104:function(e,t,a){e.exports=a(179)},111:function(e,t,a){},116:function(e,t,a){},119:function(e,t,a){},146:function(e,t,a){e.exports=a.p+"static/media/page-not-found.1cdd12bf.png"},147:function(e,t,a){},165:function(e,t,a){},167:function(e,t,a){},169:function(e,t,a){},171:function(e,t,a){},173:function(e,t,a){},175:function(e,t,a){},177:function(e,t,a){},179:function(e,t,a){"use strict";a.r(t);a(105);var n=a(1),l=a.n(n),c=a(32),r=a.n(c),o=a(27),m=a(8),i=a(4),s=(a(111),a(192)),u=a(180),d=a(189),E=a(144),g=a(191),b=a(25),p=a(34),f=a(36),v=a(100),h=a(186);a(116);function j(){return l.a.createElement("footer",{className:"footer"},l.a.createElement(h.a,null,l.a.createElement("h3",null,"BugBlog"),"A constructive and inclusive social network for software developers. With you every step of your journey.",l.a.createElement("br",null),"Made with love and"," ",l.a.createElement("a",{href:"https://reactjs.org/",target:"_blank",rel:"noopener noreferrer"},"React"),". BugBlog Community \xa9 2022."))}var O=a(145),N=(a(119),a(190)),S=a(193),y=a(143),k=a(188),C=a(61),I=a.n(C),w=a(101),A=a.n(w),D=a(12),x=a.n(D),B=a(102),L=a.n(B);function F(){var e=Object(m.f)(),t=Object(n.useState)(!1),a=Object(i.a)(t,2),c=a[0],r=a[1],o=Object(n.useState)(""),s=Object(i.a)(o,2),u=s[0],g=s[1],p=Object(n.useState)(""),f=Object(i.a)(p,2),v=f[0],j=f[1],O=Object(n.useState)(""),C=Object(i.a)(O,2),w=C[0],D=C[1];Object(n.useEffect)(function(){localStorage.getItem("token")&&(r(!0),x.a.post("".concat("http://localhost:8000","/api/user/data"),{token:localStorage.getItem("token")}).then(function(e){g(e.data.name),j(e.data.email)}).catch(function(e){localStorage.removeItem("token"),r(!1)}))},[]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(N.a,{collapseOnSelect:!0,expand:"lg",sticky:"top",variant:"light"},l.a.createElement(h.a,null,l.a.createElement(N.a.Brand,{onClick:function(){e("/")}},l.a.createElement("img",{src:A.a,height:40,alt:"logo"}),l.a.createElement("img",{src:L.a,height:40,alt:"logo"})),l.a.createElement(N.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),l.a.createElement(N.a.Collapse,null,l.a.createElement(S.a,{className:"me-auto"},l.a.createElement(d.a,{className:"d-flex",onSubmit:function(t){!function(t){t.preventDefault(),e("/search/".concat(w))}(t)}},l.a.createElement(y.a,{type:"search",placeholder:"Search",className:"me-2 w-100 searchBar","aria-label":"Search",value:w,onChange:function(e){D(e.target.value)}}),l.a.createElement(E.a,{type:"submit",variant:"success"},l.a.createElement(b.b,null)))),c?l.a.createElement(S.a,null,l.a.createElement(S.a.Link,null,l.a.createElement(E.a,{variant:"success",className:"new-post",onClick:function(){e("/new")}},"Create New Post")),l.a.createElement(k.a,{align:{lg:"end"},title:l.a.createElement(I.a,{className:"user-icon",string:v,size:40})},l.a.createElement(k.a.Item,null,u),l.a.createElement(k.a.Divider,null),l.a.createElement(k.a.Item,{onClick:function(){e("/profile")}},"Profile"),l.a.createElement(k.a.Item,{onClick:function(){localStorage.removeItem("token"),r(!1),e("/")}},"Logout"))):l.a.createElement(S.a,null,l.a.createElement(S.a.Link,null,l.a.createElement(E.a,{variant:"success",className:"login",onClick:function(){e("/login")}},"Login")))))))}function G(){var e=Object(m.g)().id,t=window.location.href,a=Object(n.useState)({}),c=Object(i.a)(a,2),r=c[0],o=c[1],h=Object(n.useState)(!1),N=Object(i.a)(h,2),S=N[0],y=N[1],k=Object(n.useState)(!1),C=Object(i.a)(k,2),I=C[0],w=C[1],A=Object(n.useState)(""),D=Object(i.a)(A,2),B=D[0],L=D[1],G=Object(n.useState)(!1),P=Object(i.a)(G,2),Q=P[0],R=P[1],V=Object(n.useState)(!1),K=Object(i.a)(V,2),M=K[0],q=K[1],T=Object(n.useState)(!1),U=Object(i.a)(T,2),J=U[0],z=U[1],Y=Object(n.useState)(!0),Z=Object(i.a)(Y,2),W=Z[0],X=Z[1];Object(n.useEffect)(function(){localStorage.getItem("token")&&x.a.post("".concat("http://localhost:8000","/api/user/data"),{token:localStorage.getItem("token")}).then(function(e){w(!0),L(e.data.id)}).catch(function(e){localStorage.removeItem("token"),w(!1)}),x.a.get("".concat("http://localhost:8000","/api/user/post/").concat(e)).then(function(e){o(e.data.blog),I&&e.data.blog.likes.map(function(e){e===B&&y(!0)}),setInterval(function(){X(!1)},1e3)}).catch(function(e){setInterval(function(){X(!1)},1e3),console.log(e)})},[e,I,B]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(F,null),l.a.createElement("div",{className:"blog-container"},W?l.a.createElement("div",{className:"loader"},l.a.createElement(f.a,{radius:"4px",color:"#368dd6",ariaLabel:"loading-indicator"})):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"utilities"},I?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"utility-item like ".concat(S?"liked":""),onClick:function(){!function(e){I&&(S?x.a.post("".concat("http://localhost:8000","/api/user/post/unlike/").concat(e),{user_id:B}).then(function(e){o(e.data.blog),I&&(e.data.blog.likes.map(function(e){e===B&&y(!0)}),y(!1))}).catch(function(e){console.log(e)}):x.a.post("".concat("http://localhost:8000","/api/user/post/like/").concat(e),{user_id:B}).then(function(e){o(e.data.blog),I&&e.data.blog.likes.map(function(e){e===B&&y(!0)})}).catch(function(e){console.log(e)}))}(e)}},l.a.createElement(p.a,null)," ",l.a.createElement("span",null,r.likes?r.likes.length:0)),l.a.createElement("div",{className:"utility-item comment",onClick:function(){return q(!0)}},l.a.createElement(b.a,null)," ",l.a.createElement("span",null,r.comments?r.comments.length:0)),l.a.createElement("div",{className:"utility-item share",onClick:function(){return z(!0)}},l.a.createElement(b.c,null))):l.a.createElement("div",{className:"account-alert"},"Login to like and comment")),l.a.createElement("div",{className:"blog"},l.a.createElement(s.a,null,r.cloudinaryId?l.a.createElement(s.a.Img,{src:r.image}):null,l.a.createElement(s.a.Body,null,l.a.createElement("div",null,r.author,l.a.createElement("br",null),new Date(r.created_at).toDateString()),l.a.createElement("h1",null,r.title),l.a.createElement("div",{className:"blog-content",dangerouslySetInnerHTML:{__html:r.content}})))),l.a.createElement(u.a,{show:M,placement:"end",onHide:function(){return q(!1)}},l.a.createElement(u.a.Header,{closeButton:!0},l.a.createElement(u.a.Title,null,"Discussion")),l.a.createElement(u.a.Body,null,l.a.createElement("div",{className:"comment-box"},l.a.createElement(d.a,{onSubmit:function(t){t.preventDefault(),function(e){x.a.post("".concat("http://localhost:8000","/api/user/post/comment/").concat(e),{user_id:B,comment:document.getElementById("comment").value}).then(function(e){o(e.data.blog),document.getElementById("comment").value=""}).catch(function(e){console.log(e)})}(e)}},l.a.createElement(d.a.Group,null,l.a.createElement(d.a.Label,null,"Add New Comment"),l.a.createElement(d.a.Control,{id:"comment",as:"textarea",rows:"3"})),l.a.createElement(E.a,{variant:"success",type:"submit",className:"mt-3"},"Comment"))),l.a.createElement("div",{className:"comment-container"},r.comments?r.comments.reverse().map(function(e){return l.a.createElement(s.a,{className:"comment",key:e._id},l.a.createElement("div",{className:"comment-author"},e.name),l.a.createElement("div",{className:"comment-date"},new Date(e.date).toDateString()),l.a.createElement("div",{className:"comment-content"},e.comment))}):l.a.createElement("div",null,"No comments yet")))),l.a.createElement(g.a,{className:"copy-link",show:J,onHide:function(){return z(!1)},centered:!0},l.a.createElement(g.a.Header,{closeButton:!0},l.a.createElement(g.a.Title,null,"Copy Link")),l.a.createElement(g.a.Body,null,l.a.createElement("div",{className:"copy-link-container"},l.a.createElement("span",{className:"url"},t)," ",l.a.createElement(v.CopyToClipboard,{text:t,className:"copy",onCopy:function(){R(!0),setTimeout(function(){R(!1)},1e3)}},l.a.createElement(O.a,null))),Q?l.a.createElement("div",{className:"copied-text"},l.a.createElement("span",null,"Copied to clipboard")):null)))),l.a.createElement(j,null))}a(147);var P=a(187),Q=a(72),R=a(73),V=a.n(R);function K(){var e=Object(m.f)(),t=Object(n.useState)(""),a=Object(i.a)(t,2),c=a[0],r=a[1],o=Object(n.useState)(""),u=Object(i.a)(o,2),g=u[0],b=u[1],p=Object(n.useState)(null),f=Object(i.a)(p,2),v=f[0],O=f[1],N=Object(n.useState)(null),S=Object(i.a)(N,2),y=S[0],k=S[1],C=Object(n.useState)(""),I=Object(i.a)(C,2),w=I[0],A=I[1],D=Object(n.useState)(!1),B=Object(i.a)(D,2),L=B[0],G=B[1],R=Object(n.useState)(!1),K=Object(i.a)(R,2),M=K[0],q=K[1],T=Object(n.useState)(""),U=Object(i.a)(T,2),J=U[0],z=U[1];Object(n.useEffect)(function(){localStorage.getItem("token")||e("/login")},[e]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(F,null),l.a.createElement("div",{className:"createpost-container"},l.a.createElement(h.a,null,l.a.createElement(s.a,null,l.a.createElement(s.a.Body,null,l.a.createElement("h1",{className:"heading"},"New Post"),l.a.createElement(d.a,{onSubmit:function(t){t.preventDefault(),G(!0);var a=g.trim();if(a.length<200)return q(!0),z("Content must be at least 200 characters long"),G(!1),void setTimeout(function(){q(!1),z("")},5e3);var n=new FormData;n.append("title",c),n.append("content",a),n.append("image",y),n.append("date",new Date),n.append("token",localStorage.getItem("token")),x()({method:"post",url:"".concat("http://localhost:8000","/api/user/create"),data:n}).then(function(t){G(!1),e("/")}).catch(function(t){G(!1),q(!0),z(t.response.data.error),e("/login")})}},l.a.createElement(d.a.Group,{className:"mb-3"},l.a.createElement(d.a.Label,null,"Add Cover Image"),l.a.createElement(d.a.Control,{type:"File",accept:"image/*",value:w,onChange:function(e){O(URL.createObjectURL(e.target.files[0])),k(e.target.files[0]),A(e.target.value)},name:"image"}),v&&l.a.createElement("img",{className:"img-preview",src:v,alt:"preview"}),l.a.createElement("br",null),v&&l.a.createElement(E.a,{variant:"primary",className:"remove-image",onClick:function(){O(null),k(null),A("")}},"Remove")),l.a.createElement(d.a.Group,{className:"mb-3"},l.a.createElement(d.a.Control,{type:"text",placeholder:"Post Title Here",value:c,onChange:function(e){r(e.target.value)},required:!0})),l.a.createElement(Q.CKEditor,{editor:V.a,onChange:function(e,t){var a=t.getData();b(a)},config:{placeholder:"Start typing your blog here..."}}),l.a.createElement(E.a,Object.assign({type:"submit",variant:"success",className:"mt-3 submit"},L?{disabled:!0}:{}),L?l.a.createElement(P.a,{as:"span",animation:"border",role:"status"}):"Publish")),M&&l.a.createElement("p",{className:"error"},J))))),l.a.createElement(j,null))}a(165);function M(){var e=Object(m.f)(),t=Object(m.g)().id,a=Object(n.useState)(""),c=Object(i.a)(a,2),r=c[0],o=c[1],u=Object(n.useState)(""),g=Object(i.a)(u,2),b=g[0],p=g[1],f=Object(n.useState)(null),v=Object(i.a)(f,2),O=v[0],N=v[1],S=Object(n.useState)(null),y=Object(i.a)(S,2),k=y[0],C=y[1],I=Object(n.useState)(""),w=Object(i.a)(I,2),A=w[0],D=w[1],B=Object(n.useState)(!1),L=Object(i.a)(B,2),G=L[0],R=L[1],K=Object(n.useState)(!1),M=Object(i.a)(K,2),q=M[0],T=M[1],U=Object(n.useState)(""),J=Object(i.a)(U,2),z=J[0],Y=J[1];Object(n.useEffect)(function(){localStorage.getItem("token")||e("/login"),x.a.get("".concat("http://localhost:8000","/api/user/post/").concat(t)).then(function(e){o(e.data.blog.title),p(e.data.blog.content),C(e.data.blog.image),N(e.data.blog.image)}).catch(function(t){e("/login")})},[e,t]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(F,null),l.a.createElement("div",{className:"editpost-container"},l.a.createElement(h.a,null,l.a.createElement(s.a,null,l.a.createElement(s.a.Body,null,l.a.createElement("h1",{className:"heading"},"Edit Post"),l.a.createElement(d.a,{onSubmit:function(a){a.preventDefault(),R(!0);var n=b.trim();if(n.length<200)return T(!0),Y("Content must be at least 200 characters long"),R(!1),void setTimeout(function(){T(!1),Y("")},5e3);var l=new FormData;l.append("id",t),l.append("title",r),l.append("content",n),l.append("image",k),l.append("date",new Date),l.append("token",localStorage.getItem("token")),x.a.post("".concat("http://localhost:8000","/api/user/edit"),l).then(function(t){R(!1),e("/profile")}).catch(function(t){R(!1),T(!0),Y(t.response.data.error),401===t.response.status&&e("/login")})}},l.a.createElement(d.a.Group,{className:"mb-3"},l.a.createElement(d.a.Label,null,"Add Cover Image"),l.a.createElement(d.a.Control,{type:"File",accept:"image/*",value:A,onChange:function(e){N(URL.createObjectURL(e.target.files[0])),C(e.target.files[0]),D(e.target.value)},name:"image"}),O&&l.a.createElement("img",{className:"img-preview",src:O,alt:"preview"}),l.a.createElement("br",null),O&&l.a.createElement(E.a,{variant:"primary",className:"remove-image",onClick:function(){N(null),C(null),D("")}},"Remove")),l.a.createElement(d.a.Group,{className:"mb-3"},l.a.createElement(d.a.Control,{type:"text",placeholder:"Post Title Here",value:r,onChange:function(e){o(e.target.value)},required:!0})),l.a.createElement(Q.CKEditor,{editor:V.a,onChange:function(e,t){var a=t.getData();p(a)},data:b,config:{placeholder:"Start typing your blog here..."}}),l.a.createElement(E.a,Object.assign({type:"submit",variant:"success",className:"mt-3 submit"},G?{disabled:!0}:{}),G?l.a.createElement(P.a,{as:"span",animation:"border",role:"status"}):"Publish")),q&&l.a.createElement("p",{className:"error"},z))))),l.a.createElement(j,null))}a(167);function q(){var e=Object(m.f)(),t=Object(n.useState)(!0),a=Object(i.a)(t,2),c=a[0],r=a[1],o=Object(n.useState)([]),u=Object(i.a)(o,2),d=u[0],E=u[1];Object(n.useEffect)(function(){x.a.get("".concat("http://localhost:8000","/api/user/posts")).then(function(e){E(e.data.blogs),setInterval(function(){r(!1)},1e3)}).catch(function(e){console.log(e),setInterval(function(){r(!1)},1e3)})},[]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(F,null),l.a.createElement("div",{className:"home-container"},l.a.createElement("h1",{className:"main-heading"}),c?l.a.createElement("div",{className:"loader"},l.a.createElement(f.a,{radius:"4px",color:"#368DD6",ariaLabel:"loading-indicator"})):l.a.createElement(h.a,null,d.length>0?d.reverse().map(function(t){return l.a.createElement(s.a,{className:"blog-card",key:t._id,onClick:function(){var a;a=t._id,e("/blog/".concat(a))}},t.cloudinaryId?l.a.createElement(s.a.Img,{variant:"top",src:t.image}):null,l.a.createElement(s.a.Body,null,l.a.createElement("h1",null,t.title),l.a.createElement("div",{className:"blog-info"},t.author),l.a.createElement("div",{className:"blog-info"},new Date(t.created_at).toDateString()),l.a.createElement("div",{className:"blog-items"},l.a.createElement("span",null,l.a.createElement(p.a,null)," ",t.likes.length," Reactions"),l.a.createElement("span",null,l.a.createElement(b.a,null)," ",t.comments.length," Comments"))))}):l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",null,"No Post Available"),l.a.createElement("p",null)))))}a(169);function T(){var e=Object(m.f)(),t=Object(n.useState)(!1),a=Object(i.a)(t,2),c=a[0],r=a[1],o=Object(n.useState)(!1),u=Object(i.a)(o,2),g=u[0],b=u[1],p=Object(n.useState)(""),f=Object(i.a)(p,2),v=f[0],j=f[1],O=Object(n.useState)(""),N=Object(i.a)(O,2),S=N[0],y=N[1],k=Object(n.useState)(""),C=Object(i.a)(k,2),I=C[0],w=C[1],A=Object(n.useState)(!1),D=Object(i.a)(A,2),B=D[0],L=D[1];Object(n.useEffect)(function(){localStorage.getItem("token")&&e("/")},[e]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(F,null),l.a.createElement(h.a,{className:"login-container"},l.a.createElement(s.a,null,l.a.createElement(s.a.Body,null,l.a.createElement(s.a.Title,null,"Login"),l.a.createElement(d.a,{noValidate:!0,validated:c,onSubmit:function(t){var a=t.currentTarget;if(t.preventDefault(),L(!0),!1===a.checkValidity())return t.stopPropagation(),void L(!1);x.a.post("".concat("http://localhost:8000","/api/auth/login"),{email:S,password:I}).then(function(t){localStorage.setItem("token",t.data.token),L(!1),e("/")}).catch(function(e){L(!1),b(!0),j(e.response.data.error),setTimeout(function(){b(!1),j("")},3e3)}),r(!0)}},l.a.createElement(d.a.Group,{className:"mb-3"},l.a.createElement(d.a.Label,null,"Email address"),l.a.createElement(d.a.Control,{type:"email",placeholder:"Enter email",value:S,onChange:function(e){return y(e.target.value)},required:!0}),l.a.createElement(d.a.Control.Feedback,{type:"invalid"},"Please provide email")),l.a.createElement(d.a.Group,{className:"mb-3"},l.a.createElement(d.a.Label,null,"Password"),l.a.createElement(d.a.Control,{type:"password",placeholder:"Password",value:I,onChange:function(e){return w(e.target.value)},required:!0}),l.a.createElement(d.a.Control.Feedback,{type:"invalid"},"Please enter password")),l.a.createElement("div",{className:"d-flex justify-content-center"},l.a.createElement(E.a,Object.assign({variant:"primary",type:"submit"},B?{disabled:!0}:{}),B?l.a.createElement(P.a,{as:"span",animation:"border",role:"status"}):"Login"))),l.a.createElement("div",{className:"error"},g&&l.a.createElement("p",null,v))))))}a(171);var U=a(146),J=a.n(U),z=function(){var e={backgroundImage:"url(".concat(J.a,")"),backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"};return l.a.createElement("div",{className:"notFound"},l.a.createElement("div",{style:e}),l.a.createElement("span",null,"PAGE NOT FOUND"))},Y=(a(173),a(194));function Z(){var e=Object(m.f)(),t=Object(n.useState)(""),a=Object(i.a)(t,2),c=a[0],r=a[1],o=Object(n.useState)(""),u=Object(i.a)(o,2),d=u[0],g=u[1],v=Object(n.useState)([]),h=Object(i.a)(v,2),O=h[0],N=h[1],S=Object(n.useState)([]),y=Object(i.a)(S,2),k=y[0],C=y[1],w=Object(n.useState)(!0),A=Object(i.a)(w,2),D=A[0],B=A[1],L=Object(n.useState)(!0),G=Object(i.a)(L,2),P=G[0],Q=G[1];Object(n.useEffect)(function(){localStorage.getItem("token")?x.a.post("".concat("http://localhost:8000","/api/user/profile"),{token:localStorage.getItem("token")}).then(function(e){r(e.data.name),g(e.data.email),N(e.data.blogs),C(e.data.likedBlogs),setInterval(function(){Q(!1)},1e3)}).catch(function(t){setInterval(function(){Q(!1)},1e3),e("/login")}):(setInterval(function(){Q(!1)},1e3),e("/login"))},[e,r,g,N,C]);var R=function(t){e("/blog/".concat(t))};return l.a.createElement(l.a.Fragment,null,l.a.createElement(F,null),l.a.createElement("div",{className:"profile-container"},l.a.createElement("div",{className:"profle-card"},l.a.createElement(s.a,null,l.a.createElement(s.a.Header,null,"Basic Profile"),l.a.createElement(s.a.Body,null,l.a.createElement("div",{className:"basic-profile"},l.a.createElement(I.a,{className:"user-icon",string:d,size:85}),l.a.createElement("div",null,l.a.createElement("h1",null,c),l.a.createElement("div",{className:"user-email"},d),l.a.createElement("div",{className:"user-info"},"Blogs Published - ",O.length))),l.a.createElement(Y.a,null,l.a.createElement(Y.a.Item,{className:"".concat(D?"active":""),onClick:function(){B(!0)}},"Your Blogs ",l.a.createElement("span",null,O.length)),l.a.createElement(Y.a.Item,{className:"".concat(D?"":"active"),onClick:function(){B(!1)}},"Liked Blogs ",l.a.createElement("span",null,k.length)))))),P?l.a.createElement("div",{className:"loader"},l.a.createElement(f.a,{radius:"4px",color:"#368DD6",ariaLabel:"loading-indicator"})):l.a.createElement("div",{className:"profile-blogs"},D?l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",{className:"main-heading"},"Your Blogs"),l.a.createElement("div",null,O.map(function(t){return l.a.createElement(s.a,{className:"blog-card",key:t._id},t.cloudinaryId?l.a.createElement(s.a.Img,{variant:"top",src:t.image}):null,l.a.createElement(s.a.Body,null,l.a.createElement("h1",{onClick:function(){R(t._id)}},t.title),l.a.createElement("div",{className:"blog-info"},t.author),l.a.createElement("div",{className:"blog-info"},new Date(t.created_at).toDateString()),l.a.createElement("div",{className:"blog-items"},l.a.createElement("div",null,l.a.createElement("span",null,l.a.createElement(p.a,null)," ",t.likes.length," Reactions"),l.a.createElement("span",null,l.a.createElement(b.a,null)," ",t.comments.length," Comments")),l.a.createElement("div",null,l.a.createElement(E.a,{className:"edit-button",variant:"info",onClick:function(){var a;a=t._id,e("/edit/".concat(a))}},"Edit"),l.a.createElement(E.a,{className:"edit-button",variant:"danger",onClick:function(){var a;a=t._id,x.a.post("".concat("http://localhost:8000","/api/user/delete"),{token:localStorage.getItem("token"),id:a}).then(function(e){N(e.data.blogs),C(e.data.likedBlogs)}).catch(function(t){401===t.response.status&&e("/login")})}},"Delete")))))}))):l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",{className:"main-heading"},"Liked Blogs"),l.a.createElement("div",null,k.map(function(e){return l.a.createElement(s.a,{className:"blog-card",key:e._id,onClick:function(){R(e._id)}},e.cloudinaryId?l.a.createElement(s.a.Img,{variant:"top",src:e.image}):null,l.a.createElement(s.a.Body,null,l.a.createElement("h1",null,e.title),l.a.createElement("div",{className:"blog-info"},e.author),l.a.createElement("div",{className:"blog-info"},new Date(e.created_at).toDateString()),l.a.createElement("div",{className:"blog-items"},l.a.createElement("span",null,l.a.createElement(p.a,null)," ",e.likes.length," Reactions"),l.a.createElement("span",null,l.a.createElement(b.a,null)," ",e.comments.length," Comments"))))}))))),l.a.createElement(j,null))}a(175);function W(){var e=Object(m.f)(),t=Object(m.g)().query,a=Object(n.useState)(!0),c=Object(i.a)(a,2),r=c[0],o=c[1],u=Object(n.useState)([]),d=Object(i.a)(u,2),E=d[0],g=d[1];Object(n.useEffect)(function(){o(!0),x.a.get("".concat("http://localhost:8000","/api/user/search/").concat(t)).then(function(e){g(e.data.blogs),setInterval(function(){o(!1)},800)}).catch(function(e){console.log(e),setInterval(function(){o(!1)},800)})},[t]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(F,null),l.a.createElement("div",{className:"search-container"},l.a.createElement("h1",{className:"main-heading"},"Results For Your Search"),r?l.a.createElement("div",{className:"loader"},l.a.createElement(f.a,{radius:"4px",color:"#368DD6",ariaLabel:"loading-indicator"})):l.a.createElement(h.a,null,E.length>0?E.reverse().map(function(t){return l.a.createElement(s.a,{className:"blog-card",key:t._id,onClick:function(){var a;a=t._id,e("/blog/".concat(a))}},t.cloudinaryId?l.a.createElement(s.a.Img,{variant:"top",src:t.image}):null,l.a.createElement(s.a.Body,null,l.a.createElement("h1",null,t.title),l.a.createElement("div",{className:"blog-info"},t.author),l.a.createElement("div",{className:"blog-info"},new Date(t.created_at).toDateString()),l.a.createElement("div",{className:"blog-items"},l.a.createElement("span",null,l.a.createElement(p.a,null)," ",t.likes.length," Reactions"),l.a.createElement("span",null,l.a.createElement(b.a,null)," ",t.comments.length," Comments"))))}):l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",null,"No Blogs for given search")))),l.a.createElement(j,null))}a(177);function X(){var e=Object(m.f)(),t=Object(n.useState)(!1),a=Object(i.a)(t,2),c=a[0],r=a[1],o=Object(n.useState)(!1),u=Object(i.a)(o,2),g=u[0],b=u[1],p=Object(n.useState)(""),f=Object(i.a)(p,2),v=f[0],O=f[1],N=Object(n.useState)(""),S=Object(i.a)(N,2),y=S[0],k=S[1],C=Object(n.useState)(""),I=Object(i.a)(C,2),w=I[0],A=I[1],D=Object(n.useState)(""),B=Object(i.a)(D,2),L=B[0],G=B[1],Q=Object(n.useState)(""),R=Object(i.a)(Q,2),V=R[0],K=R[1],M=Object(n.useState)(!1),q=Object(i.a)(M,2),T=q[0],U=q[1];Object(n.useEffect)(function(){localStorage.getItem("token")&&e("/")},[e]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(F,null),l.a.createElement(h.a,{className:"signup-container"},l.a.createElement(s.a,null,l.a.createElement(s.a.Body,null,l.a.createElement(s.a.Title,null,"Signup"),l.a.createElement(d.a,{noValidate:!0,validated:c,onSubmit:function(t){var a=t.currentTarget;if(U(!0),t.preventDefault(),!1!==a.checkValidity()){if(L!==V)return b(!0),O("Passwords do not match"),setTimeout(function(){b(!1),O("")},3e3),U(!1),void t.stopPropagation();x.a.post("".concat("http://localhost:8000","/api/auth/register"),{name:y,email:w,password:L}).then(function(t){U(!1),e("/login")}).catch(function(e){U(!1),b(!0),O(e.response.data.error),setTimeout(function(){b(!1),O("")},3e3)}),r(!0)}else t.stopPropagation()}},l.a.createElement(d.a.Group,{className:"mb-3"},l.a.createElement(d.a.Label,null,"Name"),l.a.createElement(d.a.Control,{type:"text",placeholder:"Enter Name",value:y,onChange:function(e){return k(e.target.value)},required:!0}),l.a.createElement(d.a.Control.Feedback,{type:"invalid"},"Please provide name")),l.a.createElement(d.a.Group,{className:"mb-3"},l.a.createElement(d.a.Label,null,"Email address"),l.a.createElement(d.a.Control,{type:"email",placeholder:"Enter email",value:w,onChange:function(e){return A(e.target.value)},required:!0}),l.a.createElement(d.a.Control.Feedback,{type:"invalid"},"Please provide email")),l.a.createElement(d.a.Group,{className:"mb-3"},l.a.createElement(d.a.Label,null,"Password"),l.a.createElement(d.a.Control,{type:"password",placeholder:"Password",value:L,onChange:function(e){return G(e.target.value)},required:!0}),l.a.createElement(d.a.Control.Feedback,{type:"invalid"},"Please enter password")),l.a.createElement(d.a.Group,{className:"mb-3"},l.a.createElement(d.a.Label,null,"Confirm Password"),l.a.createElement(d.a.Control,{type:"password",placeholder:"Confirm Password",value:V,onChange:function(e){return K(e.target.value)},required:!0}),l.a.createElement(d.a.Control.Feedback,{type:"invalid"},"Please confirm password")),l.a.createElement("div",{className:"d-flex justify-content-center"},l.a.createElement(E.a,Object.assign({variant:"primary",type:"submit"},T?{disabled:!0}:{}),T?l.a.createElement(P.a,{as:"span",animation:"border",role:"status"}):"Submit"))),l.a.createElement("div",{className:"error"},g&&l.a.createElement("p",null,v))))),l.a.createElement(j,null))}var H=function(){return l.a.createElement("div",null,l.a.createElement(o.a,null,l.a.createElement(m.c,null,l.a.createElement(m.a,{exact:!0,path:"/",element:l.a.createElement(q,null)}),l.a.createElement(m.a,{exact:!0,path:"/signup",element:l.a.createElement(X,null)}),l.a.createElement(m.a,{exact:!0,path:"/login",element:l.a.createElement(T,null)}),l.a.createElement(m.a,{exact:!0,path:"/new",element:l.a.createElement(K,null)}),l.a.createElement(m.a,{exact:!0,path:"/edit/:id",element:l.a.createElement(M,null)}),l.a.createElement(m.a,{exact:!0,path:"/blog/:id",element:l.a.createElement(G,null)}),l.a.createElement(m.a,{exact:!0,path:"/search/:query",element:l.a.createElement(W,null)}),l.a.createElement(m.a,{exact:!0,path:"/profile",element:l.a.createElement(Z,null)}),l.a.createElement(m.a,{exact:!0,path:"*",element:l.a.createElement(z,null)}))))};r.a.render(l.a.createElement(H,null),document.getElementById("root"))}},[[104,2,1]]]);
//# sourceMappingURL=main.fa6cbf98.chunk.js.map